# Granian benchmarks



## Concurrency

Run at: Thu 05 Dec 2024, 19:48    
Environment: AMD Ryzen 7 5700X @ Ubuntu 24.04 (CPUs: 16)    
Python version: 3.11    
Granian version: 1.7.0    

### ASGI

| Mode | Processes | Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| **workers (c512)** | **2** | **1** | **1225401** | **123009** | **4.16ms** | **65.256ms** |
| runtime (c512) | 2 | 1 | 1187319 | 119207 | 4.29ms | 105.431ms |
| workers (c512) | 2 | 2 | 1136032 | 114191 | 4.478ms | 108.47ms |
| **runtime (c512)** | **2** | **2** | **1192601** | **119772** | **4.272ms** | **139.187ms** |
| workers (c512) | 2 | 4 | 1026562 | 103088 | 4.963ms | 143.114ms |
| runtime (c512) | 2 | 4 | 1063729 | 106883 | 4.786ms | 118.721ms |
| workers (c128) | 4 | 1 | 995302 | 99570 | 1.283ms | 15.494ms |
| runtime (c512) | 4 | 1 | 1042965 | 104806 | 4.88ms | 101.217ms |
| workers (c512) | 4 | 2 | 972702 | 97855 | 5.228ms | 111.292ms |
| runtime (c128) | 4 | 2 | 997958 | 99844 | 1.28ms | 13.582ms |
| workers (c512) | 4 | 4 | 1000445 | 100517 | 5.087ms | 91.375ms |
| runtime (c128) | 4 | 4 | 850754 | 85161 | 1.501ms | 28.178ms |
| workers (c128) | 8 | 1 | 869538 | 86986 | 1.47ms | 23.942ms |
| runtime (c128) | 8 | 1 | 1084547 | 108522 | 1.178ms | 14.451ms |
| workers (c128) | 8 | 2 | 978511 | 97887 | 1.305ms | 18.103ms |
| runtime (c128) | 8 | 2 | 928507 | 92887 | 1.375ms | 19.528ms |
| workers (c512) | 8 | 4 | 974423 | 97874 | 5.208ms | 110.382ms |
| runtime (c512) | 8 | 4 | 823435 | 82774 | 6.176ms | 101.998ms |
| workers (c128) | 16 | 1 | 889145 | 89000 | 1.435ms | 15.719ms |
| runtime (c128) | 16 | 1 | 887172 | 88776 | 1.439ms | 17.258ms |
| workers (c128) | 16 | 2 | 946978 | 94774 | 1.348ms | 15.778ms |
| runtime (c512) | 16 | 2 | 818883 | 82366 | 6.205ms | 100.244ms |
| workers (c128) | 16 | 4 | 1094534 | 109538 | 1.166ms | 15.894ms |
| runtime (c512) | 16 | 4 | 831127 | 83558 | 6.117ms | 97.713ms |

### RSGI

| Mode | Processes | Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| **workers (c128)** | **2** | **1** | **1261707** | **126283** | **1.012ms** | **15.772ms** |
| **runtime (c128)** | **2** | **1** | **1237046** | **123789** | **1.033ms** | **14.523ms** |
| workers (c512) | 2 | 2 | 1174033 | 117923 | 4.338ms | 100.005ms |
| runtime (c128) | 2 | 2 | 1218211 | 121869 | 1.049ms | 17.037ms |
| workers (c512) | 2 | 4 | 1019844 | 102452 | 4.993ms | 133.545ms |
| runtime (c128) | 2 | 4 | 1088682 | 108910 | 1.174ms | 22.774ms |
| workers (c128) | 4 | 1 | 1052939 | 105390 | 1.212ms | 17.619ms |
| runtime (c128) | 4 | 1 | 1157445 | 115785 | 1.105ms | 17.226ms |
| workers (c128) | 4 | 2 | 1046267 | 104748 | 1.219ms | 24.827ms |
| runtime (c128) | 4 | 2 | 1001172 | 100153 | 1.277ms | 12.502ms |
| workers (c512) | 4 | 4 | 1063820 | 107076 | 4.776ms | 116.192ms |
| runtime (c128) | 4 | 4 | 933291 | 93397 | 1.369ms | 16.191ms |
| workers (c128) | 8 | 1 | 1032452 | 103280 | 1.238ms | 13.43ms |
| runtime (c128) | 8 | 1 | 1144032 | 114477 | 1.116ms | 19.116ms |
| workers (c512) | 8 | 2 | 905083 | 90882 | 5.626ms | 106.372ms |
| runtime (c128) | 8 | 2 | 974384 | 97510 | 1.311ms | 18.022ms |
| workers (c512) | 8 | 4 | 1002041 | 100689 | 5.067ms | 123.985ms |
| runtime (c128) | 8 | 4 | 907598 | 90806 | 1.408ms | 22.935ms |
| workers (c128) | 16 | 1 | 904927 | 90589 | 1.41ms | 20.977ms |
| runtime (c128) | 16 | 1 | 919122 | 91958 | 1.388ms | 24.342ms |
| workers (c128) | 16 | 2 | 948897 | 94934 | 1.344ms | 25.625ms |
| runtime (c128) | 16 | 2 | 927738 | 92831 | 1.376ms | 18.323ms |
| workers (c128) | 16 | 4 | 1031541 | 103248 | 1.237ms | 19.132ms |
| runtime (c128) | 16 | 4 | 924928 | 92585 | 1.38ms | 25.351ms |

### WSGI

| Mode | Processes | Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| **workers (c128)** | **2** | **1** | **1258020** | **125879** | **1.016ms** | **14.006ms** |
| **runtime (c128)** | **2** | **1** | **1272513** | **127343** | **1.004ms** | **18.893ms** |
| workers (c512) | 2 | 2 | 1168327 | 117271 | 4.355ms | 321.018ms |
| runtime (c512) | 2 | 2 | 1218498 | 122360 | 4.179ms | 86.182ms |
| workers (c512) | 2 | 4 | 980687 | 98491 | 5.191ms | 240.244ms |
| runtime (c128) | 2 | 4 | 1113337 | 111375 | 1.148ms | 20.712ms |
| workers (c128) | 4 | 1 | 1150935 | 115151 | 1.11ms | 15.757ms |
| runtime (c512) | 4 | 1 | 1202976 | 120778 | 4.233ms | 81.806ms |
| workers (c512) | 4 | 2 | 1037106 | 104183 | 4.909ms | 104.963ms |
| runtime (c512) | 4 | 2 | 1107434 | 111223 | 4.599ms | 88.723ms |
| workers (c512) | 4 | 4 | 931688 | 93658 | 5.455ms | 80.955ms |
| runtime (c128) | 4 | 4 | 970215 | 97053 | 1.317ms | 16.491ms |
| workers (c128) | 8 | 1 | 1152893 | 115381 | 1.107ms | 18.741ms |
| runtime (c128) | 8 | 1 | 1168293 | 116874 | 1.094ms | 23.358ms |
| workers (c128) | 8 | 2 | 1043690 | 104433 | 1.223ms | 22.706ms |
| runtime (c128) | 8 | 2 | 941608 | 94222 | 1.357ms | 24.801ms |
| workers (c512) | 8 | 4 | 936832 | 94127 | 5.413ms | 342.066ms |
| runtime (c128) | 8 | 4 | 940095 | 94062 | 1.359ms | 19.206ms |
| workers (c128) | 16 | 1 | 1122663 | 112337 | 1.136ms | 25.39ms |
| runtime (c128) | 16 | 1 | 1142525 | 114318 | 1.117ms | 20.735ms |
| workers (c128) | 16 | 2 | 1021049 | 102214 | 1.249ms | 124.008ms |
| runtime (c128) | 16 | 2 | 977936 | 97911 | 1.303ms | 23.468ms |
| workers (c128) | 16 | 4 | 975345 | 97655 | 1.307ms | 237.136ms |
| runtime (c128) | 16 | 4 | 904231 | 90492 | 1.411ms | 20.482ms |

