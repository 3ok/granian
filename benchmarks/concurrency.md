# Granian benchmarks



## Concurrency

Run at: Thu 30 Jan 2025, 04:21    
Environment: AMD Ryzen 7 5700X @ Ubuntu 24.04 (CPUs: 16)    
Python version: 3.11    
Granian version: 1.7.6    

### ASGI

| Mode | Processes | Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| **workers (c512)** | **2** | **1** | **1238025** | **124307** | **4.117ms** | **70.494ms** |
| **runtime (c512)** | **2** | **1** | **1228225** | **123320** | **4.149ms** | **90.483ms** |
| workers (c128) | 2 | 2 | 1076738 | 107713 | 1.187ms | 21.807ms |
| runtime (c512) | 2 | 2 | 1201596 | 120751 | 4.236ms | 122.507ms |
| workers (c512) | 2 | 4 | 995806 | 100040 | 5.113ms | 81.091ms |
| runtime (c512) | 2 | 4 | 1077197 | 108237 | 4.724ms | 92.856ms |
| workers (c128) | 4 | 1 | 1105430 | 110604 | 1.155ms | 13.801ms |
| runtime (c128) | 4 | 1 | 1109028 | 110942 | 1.153ms | 19.505ms |
| workers (c128) | 4 | 2 | 1118743 | 112005 | 1.141ms | 14.325ms |
| runtime (c128) | 4 | 2 | 891612 | 89197 | 1.434ms | 21.443ms |
| workers (c128) | 4 | 4 | 981639 | 98217 | 1.301ms | 15.424ms |
| runtime (c512) | 4 | 4 | 837635 | 84230 | 6.072ms | 110.413ms |
| workers (c128) | 8 | 1 | 1050988 | 105171 | 1.215ms | 16.236ms |
| runtime (c128) | 8 | 1 | 835626 | 83606 | 1.53ms | 14.277ms |
| workers (c128) | 8 | 2 | 954906 | 95565 | 1.336ms | 19.722ms |
| runtime (c128) | 8 | 2 | 796585 | 79682 | 1.604ms | 27.968ms |
| workers (c512) | 8 | 4 | 951535 | 95752 | 5.337ms | 87.468ms |
| runtime (c512) | 8 | 4 | 836745 | 84179 | 6.072ms | 98.499ms |
| workers (c512) | 16 | 1 | 856310 | 86060 | 5.938ms | 104.625ms |
| runtime (c128) | 16 | 1 | 1099253 | 110008 | 1.161ms | 18.392ms |
| workers (c128) | 16 | 2 | 958457 | 95917 | 1.331ms | 19.314ms |
| runtime (c512) | 16 | 2 | 833984 | 83796 | 6.101ms | 103.509ms |
| workers (c512) | 16 | 4 | 1054970 | 105929 | 4.812ms | 85.945ms |
| runtime (c512) | 16 | 4 | 828933 | 83383 | 6.13ms | 107.802ms |

### RSGI

| Mode | Processes | Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| **workers (c512)** | **2** | **1** | **1237773** | **124290** | **4.116ms** | **95.038ms** |
| runtime (c128) | 2 | 1 | 1224557 | 122559 | 1.043ms | 13.401ms |
| workers (c512) | 2 | 2 | 1194969 | 119886 | 4.259ms | 91.362ms |
| runtime (c512) | 2 | 2 | 1194038 | 119912 | 4.267ms | 132.686ms |
| workers (c128) | 2 | 4 | 1131618 | 113249 | 1.128ms | 22.427ms |
| runtime (c512) | 2 | 4 | 1091550 | 109658 | 4.664ms | 149.8ms |
| workers (c128) | 4 | 1 | 1129532 | 113018 | 1.131ms | 18.715ms |
| **runtime (c128)** | **4** | **1** | **1231787** | **123224** | **1.037ms** | **14.129ms** |
| workers (c128) | 4 | 2 | 1061167 | 106237 | 1.202ms | 13.501ms |
| runtime (c128) | 4 | 2 | 1018238 | 101853 | 1.256ms | 14.171ms |
| workers (c512) | 4 | 4 | 964655 | 97102 | 5.265ms | 102.936ms |
| runtime (c128) | 4 | 4 | 904615 | 90541 | 1.412ms | 27.421ms |
| workers (c128) | 8 | 1 | 1219286 | 121972 | 1.048ms | 18.123ms |
| runtime (c128) | 8 | 1 | 963157 | 96425 | 1.324ms | 22.99ms |
| workers (c128) | 8 | 2 | 926405 | 92697 | 1.377ms | 20.723ms |
| runtime (c128) | 8 | 2 | 864162 | 86468 | 1.478ms | 26.334ms |
| workers (c512) | 8 | 4 | 953704 | 95802 | 5.326ms | 109.316ms |
| runtime (c128) | 8 | 4 | 884570 | 88507 | 1.444ms | 19.228ms |
| workers (c128) | 16 | 1 | 896256 | 89693 | 1.423ms | 22.57ms |
| runtime (c128) | 16 | 1 | 993777 | 99443 | 1.285ms | 15.18ms |
| workers (c128) | 16 | 2 | 975845 | 97680 | 1.308ms | 14.425ms |
| runtime (c128) | 16 | 2 | 917916 | 91853 | 1.39ms | 24.474ms |
| workers (c128) | 16 | 4 | 1061928 | 106311 | 1.2ms | 27.824ms |
| runtime (c512) | 16 | 4 | 873981 | 87797 | 5.822ms | 99.883ms |

### WSGI

| Mode | Processes | Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 1 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 2 | 0 | 0 | N/A | N/A |
| workers (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| runtime (c2048) | 1 | 4 | 0 | 0 | N/A | N/A |
| workers (c128) | 2 | 1 | 1270455 | 127086 | 1.006ms | 14.728ms |
| **runtime (c128)** | **2** | **1** | **1266829** | **126780** | **1.008ms** | **13.5ms** |
| workers (c128) | 2 | 2 | 1145938 | 114651 | 1.115ms | 57.753ms |
| runtime (c128) | 2 | 2 | 1260619 | 126118 | 1.014ms | 14.031ms |
| workers (c512) | 2 | 4 | 1043722 | 104735 | 4.875ms | 573.619ms |
| runtime (c128) | 2 | 4 | 1128248 | 112859 | 1.133ms | 12.415ms |
| **workers (c128)** | **4** | **1** | **1295541** | **129614** | **0.986ms** | **21.137ms** |
| runtime (c512) | 4 | 1 | 1236579 | 124142 | 4.12ms | 86.667ms |
| workers (c128) | 4 | 2 | 1123045 | 112420 | 1.136ms | 62.474ms |
| runtime (c128) | 4 | 2 | 1049290 | 105029 | 1.217ms | 16.335ms |
| workers (c512) | 4 | 4 | 980665 | 98663 | 5.181ms | 192.62ms |
| runtime (c512) | 4 | 4 | 941276 | 94522 | 5.409ms | 91.364ms |
| workers (c128) | 8 | 1 | 1267846 | 126869 | 1.007ms | 17.579ms |
| runtime (c128) | 8 | 1 | 1108928 | 111023 | 1.151ms | 15.308ms |
| workers (c128) | 8 | 2 | 1138051 | 113885 | 1.121ms | 43.13ms |
| runtime (c128) | 8 | 2 | 1021573 | 102268 | 1.249ms | 13.82ms |
| workers (c512) | 8 | 4 | 1027705 | 103299 | 4.936ms | 233.175ms |
| runtime (c512) | 8 | 4 | 903827 | 90822 | 5.629ms | 96.845ms |
| workers (c128) | 16 | 1 | 1293603 | 129460 | 0.986ms | 18.288ms |
| runtime (c128) | 16 | 1 | 1189886 | 119030 | 1.072ms | 31.972ms |
| workers (c512) | 16 | 2 | 989076 | 99334 | 5.144ms | 101.528ms |
| runtime (c128) | 16 | 2 | 958618 | 95928 | 1.331ms | 18.481ms |
| workers (c128) | 16 | 4 | 1043435 | 104444 | 1.222ms | 414.826ms |
| runtime (c128) | 16 | 4 | 1026887 | 102796 | 1.242ms | 21.342ms |

